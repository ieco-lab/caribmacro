<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Download Records of Species from GBIF — gbif_records • caribmacro</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/slate/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Download Records of Species from GBIF — gbif_records"><meta property="og:description" content="This function is used to download occurrence records from GBIF within a year range for
given taxonomic group(s) for a given area.
The function requires the packages 'rgbif', 'rgdal', and 'rgeos'"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">caribmacro</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="https://github.com/ieco-lab/caribmacro" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Contemporized IBT
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="divider">
    <li>
      <a href="../articles/010_ibt_data_calcs.html">Data Calculations</a>
    </li>
    <li>
      <a href="../articles/011_bank_attributes.html">Bank Attributes</a>
    </li>
    <li>
      <a href="../articles/020_ibt_sr_avgmod_std.html">Contemporized IBT Analysis</a>
    </li>
    <li class="divider">
  </ul></li>
<li class="dropdown-header">Island Saturation Rescaling</li>
<li class="dropdown-header">Beta Diversity</li>
<li class="dropdown-header">Shipping Networks &amp; IBT</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Misc R Code
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="divider">
    <li>
      <a href="../articles/900_functions.html">Functions</a>
    </li>
    <li>
      <a href="../articles/910_records_update.html">Sp Records Updates</a>
    </li>
    <li class="divider">
  </ul></li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download Records of Species from GBIF</h1>
    
    <div class="hidden name"><code>gbif_records.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is used to download occurrence records from GBIF within a year range for
given taxonomic group(s) for a given area.
The function requires the packages 'rgbif', 'rgdal', and 'rgeos'</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gbif_records</span><span class="op">(</span></span>
<span>  <span class="va">groups</span>,</span>
<span>  <span class="va">rank</span>,</span>
<span>  <span class="va">bounds</span>,</span>
<span>  <span class="va">years</span>,</span>
<span>  yr_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">50000</span>,</span>
<span>  genus_level <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>groups</dt>
<dd><p>A character or vector of taxonomic group names of the same taxonomic rank</p></dd>


<dt>rank</dt>
<dd><p>A character equal to the taxonomic level of the group(s) (e.g. 'class')</p></dd>


<dt>bounds</dt>
<dd><p>A shapefile of a simplified polygon that bounds the study area
(e.g. outline of the Caribbean bioregion)</p></dd>


<dt>years</dt>
<dd><p>A number equal to the number of years before the present year (default) or
before <code>yr_from</code> for which you want occurrences collected. See Details for more information.</p></dd>


<dt>yr_from</dt>
<dd><p>A number equal to the year of the most current records you want to download. The
default is the current year as determined by <code><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date()</a></code>. See Details for more information.</p></dd>


<dt>limit</dt>
<dd><p>A numerical value equal to the maximum number of records wanted. See Details for more
information.</p></dd>


<dt>genus_level</dt>
<dd><p>Logical. If <code>TRUE</code> then the records that were only identified to
the genus level are returned. If <code>FALSE</code>, then these records are omitted</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A data frame with the occurrence observations of species within the taxonomic group(s).
The function only returns the columns: "order", "family", "genus", "species", "eventDate", "year",
"decimalLatitude", "decimalLongitude", "basisOfRecord", "occurrenceID", and "references" from the
<code><a href="https://docs.ropensci.org/rgbif/reference/occ_search.html" class="external-link">occ_search()</a></code> function of the 'rgbif' package</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>In order to download records for a certain year range, you have to specify both <code>years</code>
and <code>yr_from</code>. The <code>years</code> argument tells the function to download all records from a
specified number of years prior to <code>yr_from</code>. For example, if you want records from 2016 through
2018 then you would set <code>years = 2</code> and <code>yr_from = 2018</code>. However, the default for <code>yr_from</code>
is the year of the computer system (i.e. for most the current year). Therefore, if you only want records
from two years prior through the current year, you only need to set <code>years = 2</code> and nothing for <code>years</code>.</p>
<p>The default number of records returned is 50,000, and therefore, if you want all records within a certain time
frame, you should check that the number of records returned does not equal the 50,000 If it does then you
should set <code>limit</code> to a larger number. For example, if the returned data frame of records for only one
taxonomic groups has <code>nrow(df) = limit</code>, which the default is 50,000, increase the limit to ensure all
of the records are downloaded for that group. However, the maximum number of records that can be downloaded
is 200,000 at a time.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/" class="external-link">here</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rgbif" class="external-link">rgbif</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://rgdal.r-forge.r-project.org" class="external-link">rgdal</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-forge.r-project.org/projects/rgeos/" class="external-link">rgeos</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">outline</span><span class="op">&lt;-</span><span class="fu"><a href="http://rgdal.r-forge.r-project.org/reference/rgdal-deprecated.html" class="external-link">readOGR</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">'data_raw'</span>, <span class="st">'gis'</span>, <span class="st">'Carib_Poly.shp'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">h.occ</span><span class="op">&lt;-</span><span class="fu">gbif_records</span><span class="op">(</span>groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Amphibia'</span>,<span class="st">'Reptilia'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    rank <span class="op">=</span> <span class="st">'class'</span>,</span></span>
<span class="r-in"><span>                    years <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>                    bounds <span class="op">=</span> <span class="va">outline</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jason M. Gleditsch, Matthew R. Helmus, Jocelyn E. Behm.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

